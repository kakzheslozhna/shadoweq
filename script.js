const languages = {
    ru: {
        nav_features: "Функции",
        nav_about: "О ShadowEQ",
        nav_contact: "Контакты",
        tagline: "Оптимизация звука в одно касание",
        hero_title: "ShadowEQ - Твой контроль над звуком",
        hero_text: "Управляй громкостью приложений без лишних движений. Оптимизация времени для всех пользователей.",
        learn_more: "Узнать больше",
        features_title: "Почему ShadowEQ?",
        feature_1_title: "Гибкий контроль громкости",
        feature_1_text: "Управляй звуком с комфортом — забудь про Win+G или сворачивание окон.",
        feature_2_title: "Все процессы под рукой",
        feature_2_text: "Все запущенные процессы автоматически добавляются в список для управления.",
        feature_4_title: "Точная настройка",
        feature_4_text: "Баланс между игрой, чатом и музыкой — все под твоим контролем.",
        feature_5_title: "Ненагруженный интерфейс",
        feature_5_text: "У ShadowEQ максимально упрощенный и понятный интерфейс. Все просто и понятно. Ничего не будет вас отвлекать от процесса.",
        about_title: "Что такое ShadowEQ?",
        about_text_1: "ShadowEQ — это революция в управлении звуком для активных пользователей ПК. Геймерам он помогает настроить звук шагов в шутерах, стримерам — мгновенно заглушить шум, а разработчикам — оптимизировать аудио для тестов. Забудь про сложные манипуляции: все под рукой!",
        about_text_2: "ShadowEQ, разработанный для Windows, позволяет управлять звуком одним касанием, превращая рутину в удовольствие. Мы уже работаем над расширением поддержки для macOS и Linux, чтобы еще больше пользователей могли оценить преимущества ShadowEQ. Интуитивный интерфейс и передовые технологии — твой ключ к идеальному звуку!",
        testimonials_title: "Что говорят пользователи",
        testimonial_1: "ShadowEQ изменил мой стрим! Теперь я управляю звуком за секунды.",
        testimonial_1_author: "- Алексей, стример",
        testimonial_2: "Точная настройка спасает в играх — шаги врагов слышны идеально.",
        testimonial_2_author: "- Иван, геймер",
        testimonial_3: "Интерфейс прост, а док-станция — просто находка для разработчиков.",
        testimonial_3_author: "- Мария, разработчик",
        faq_title: "Часто задаваемые вопросы",
        faq_q1: "Требовательна ли ShadowEQ к системе и много ли места занимает на диске?",
        faq_a1: "Нет, ShadowEQ на данный момент занимает всего 1Мб на диске и использует в срежнем 30Мб оперативной памяти.",
        faq_q2: "Требуется ли установка драйверов?",
        faq_a2: "Возможно, если на вашем устройстве отсутсвует .net framework, при запуске приложения вам предложат его скачать и перенаправит сразу на страницу установки.",
        faq_q3: "Поддерживается ли macOS или Linux?",
        faq_a3: "На данный момент ShadowEQ разработана для Windows, но мы активно работаем над поддержкой macOS и Linux в ближайшем будущем.",
        contact_title: "Связаться с нами",
        support_link_1: "Руководство пользователя",
        support_link_2: "Чат поддержки",
        footer_rights: "Все права защищены."
    },
    en: {
        nav_features: "Features",
        nav_about: "About ShadowEQ",
        nav_contact: "Contact",
        tagline: "Sound Optimization at Your Fingertips",
        hero_title: "ShadowEQ - Your Sound Control",
        hero_text: "Control app volume without unnecessary movements. Time optimization for all users.",
        learn_more: "Learn More",
        features_title: "Why ShadowEQ?",
        feature_1_title: "Flexible volume control",
        feature_1_text: "Control your sound comfortably - forget Win+G or minimizing windows.",
        feature_2_title: "All processes at your fingertips",
        feature_2_text: "All running processes are automatically added to the list for management.",
        feature_4_title: "Precise Tuning",
        feature_4_text: "Balance game, chat, and music — all under your control.",
        feature_5_title: "Relaxed interface",
        feature_5_text: "ShadowEQ has the most simplified and easy to understand interface. Everything is simple and straightforward. Nothing will distract you from the process.",
        about_title: "What is ShadowEQ?",
        about_text_1: "ShadowEQ revolutionizes sound management for active PC users. Gamers can fine-tune footsteps in shooters, streamers can mute noise instantly, and developers can optimize audio for testing. No more complex maneuvers — everything’s at your fingertips!",
        about_text_2: "ShadowEQ, developed for Windows, allows you to control sound with a single touch, turning routine into pleasure. We are already working on expanding support for macOS and Linux so that even more users can appreciate the benefits of ShadowEQ. Intuitive interface and advanced technology are your key to perfect sound!",
        testimonials_title: "What Users Say",
        testimonial_1: "ShadowEQ transformed my stream! Now I control sound in seconds.",
        testimonial_1_author: "- Alex, Streamer",
        testimonial_2: "Precise tuning saves the day in games — enemy footsteps are crystal clear.",
        testimonial_2_author: "- Ivan, Gamer",
        testimonial_3: "The interface is simple, and the dock station is a game-changer for developers.",
        testimonial_3_author: "- Maria, Developer",
        faq_title: "Frequently Asked Questions",
        faq_q1: "Is ShadowEQ demanding on the system and does it take up a lot of disk space?",
        faq_a1: "No, ShadowEQ currently occupies only 1MB of disk space and uses an average of 30MB of RAM.",
        faq_q2: "Is driver installation required?",
        faq_a2: "Perhaps, if your device does not have .net framework, when you launch the application you will be offered to download it and redirected directly to the installation page.",
        faq_q3: "Is macOS or Linux supported?",
        faq_a3: "ShadowEQ is currently developed for Windows, but we are actively working on macOS and Linux support in the near future.",
        contact_title: "Contact Us",
        support_link_1: "User Manual",
        support_link_2: "Support Chat",
        footer_rights: "All rights reserved."
    },
    de: {
        nav_features: "Funktionen",
        nav_about: "Über ShadowEQ",
        nav_contact: "Kontakt",
        tagline: "Sound-Optimierung mit einem Fingertipp",
        hero_title: "ShadowEQ - Deine Klangkontrolle",
        hero_text: "Steuerung der App-Lautstärke ohne unnötige Bewegungen. Zeitoptimierung für alle Benutzer.",
        learn_more: "Erfahren Sie mehr",
        features_title: "Warum ShadowEQ?",
        feature_1_title: "Flexible Lautstärkeregelung",
        feature_1_text: "Steuern Sie Ihren Sound ganz bequem - vergessen Sie Win+G oder das Minimieren von Fenstern.",
        feature_2_title: "Alle Prozesse auf Knopfdruck",
        feature_2_text: "Alle laufenden Prozesse werden automatisch in die Liste für die Verwaltung aufgenommen.",
        feature_4_title: "Präzise Anpassung",
        feature_4_text: "Balance zwischen Spiel, Chat und Musik — alles unter deiner Kontrolle.",
        feature_5_title: "Unübersichtliche Schnittstelle",
        feature_5_text: "ShadowEQ hat die einfachste und leicht verständlichste Schnittstelle, die es gibt. Alles ist einfach und geradlinig. Nichts wird Sie vom Prozess ablenken.",
        about_title: "Was ist ShadowEQ?",
        about_text_1: "ShadowEQ revolutioniert die Klangverwaltung für aktive PC-Nutzer. Gamer können Schritte in Shootern optimieren, Streamer Lärm sofort stummen, und Entwickler Audio für Tests anpassen. Keine komplizierten Manöver mehr — alles griffbereit!",
        about_text_2: "ShadowEQ wurde für Windows entwickelt und ermöglicht es Ihnen, den Klang mit einer einzigen Berührung zu steuern, so dass Routine zum Vergnügen wird. Wir arbeiten bereits an der Erweiterung der Unterstützung für macOS und Linux, damit noch mehr Nutzer die Vorteile von ShadowEQ nutzen können. Eine intuitive Oberfläche und fortschrittliche Technologie sind Ihr Schlüssel zum perfekten Sound!",
        testimonials_title: "Was Nutzer sagen",
        testimonial_1: "ShadowEQ hat meinen Stream verändert! Jetzt steuere ich den Klang in Sekunden.",
        testimonial_1_author: "- Alex, Streamer",
        testimonial_2: "Die präzise Anpassung rettet den Tag in Spielen — Feind-Schritte sind kristallklar.",
        testimonial_2_author: "- Ivan, Gamer",
        testimonial_3: "Die Oberfläche ist einfach, и die Dock-Station ist ein Gamechanger für Entwickler.",
        testimonial_3_author: "- Maria, Entwicklerin",
        faq_title: "Häufig gestellte Fragen",
        faq_q1: "Stellt ShadowEQ hohe Anforderungen an das System und benötigt es viel Speicherplatz?",
        faq_a1: "Nein, ShadowEQ belegt derzeit nur 1 MB Speicherplatz auf der Festplatte und verbraucht im Durchschnitt 30 MB RAM.",
        faq_q2: "Ist die Installation von Treibern erforderlich?",
        faq_a2: "Wenn Ihr Gerät nicht über das .net-Framework verfügt, wird Ihnen beim Starten der Anwendung möglicherweise angeboten, es herunterzuladen, und Sie werden direkt zur Installationsseite weitergeleitet.",
        faq_q3: "Wird macOS oder Linux unterstützt?",
        faq_a3: "ShadowEQ wird derzeit für Windows entwickelt, aber wir arbeiten aktiv daran, in naher Zukunft auch macOS und Linux zu unterstützen.",
        contact_title: "Kontaktieren Sie uns",
        support_link_1: "Benutzerhandbuch",
        support_link_2: "Support-Chat",
        footer_rights: "Alle Rechte vorbehalten."
    }
};

// Language Switcher
const defaultLang = navigator.language.slice(0, 2) === 'ru' ? 'ru' : navigator.language.slice(0, 2) === 'de' ? 'de' : 'en';
let currentLang = defaultLang;

const selectedLang = document.querySelector('.selected-lang');
const langList = document.querySelector('.lang-list');
const arrow = document.querySelector('.arrow');
const langItems = document.querySelectorAll('.lang-list li');

function setLanguage(lang) {
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = languages[lang][key];
        } else {
            element.innerHTML = languages[lang][key];
        }
    });
    const flagSrc = `flags/${lang}.png`;
    selectedLang.querySelector('.flag').src = flagSrc;
    selectedLang.querySelector('.flag').alt = lang.toUpperCase();
    selectedLang.querySelector('.flag').dataset.lang = lang;
    currentLang = lang;
}

function toggleDropdown() {
    langList.classList.toggle('open');
    arrow.classList.toggle('open');
}

setLanguage(defaultLang);

selectedLang.addEventListener('click', toggleDropdown);

langItems.forEach(item => {
    item.addEventListener('click', () => {
        const lang = item.getAttribute('data-lang');
        setLanguage(lang);
        langList.classList.remove('open');
        arrow.classList.remove('open');
    });
});

document.addEventListener('click', (e) => {
    if (!e.target.closest('.language-dropdown')) {
        langList.classList.remove('open');
        arrow.classList.remove('open');
    }
});

// Burger Menu
const burger = document.querySelector('.burger');
const navMenu = document.querySelector('.nav-menu');

burger.addEventListener('click', () => {
    burger.classList.toggle('open');
    navMenu.classList.toggle('active');
});

// Smooth Scroll Animation
document.querySelectorAll('[data-scroll]').forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href');
        const targetSection = document.querySelector(targetId);
        const headerHeight = document.querySelector('header').offsetHeight;

        window.scrollTo({
            top: targetSection.offsetTop - headerHeight,
            behavior: 'smooth'
        });

        targetSection.style.transition = 'transform 0.5s ease';
        targetSection.style.transform = 'translateY(-10px)';
        setTimeout(() => {
            targetSection.style.transform = 'translateY(0)';
        }, 500);

        if (navMenu.classList.contains('active')) {
            navMenu.classList.remove('active');
            burger.classList.remove('open');
        }
    });
});

// Header Scroll Effect
window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 50) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
});

// Animate on Scroll
const animateItems = document.querySelectorAll('.animate-on-scroll');
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, { threshold: 0.3 });

animateItems.forEach(item => observer.observe(item));

// Form Submission (Placeholder)
const form = document.querySelector('.contact-form');
form.addEventListener('submit', (e) => {
    e.preventDefault();
    alert('Сообщение отправлено! (Это заглушка)');
    form.reset();
});